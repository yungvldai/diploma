\section{СИНТЕЗ СИСТЕМЫ УПРАВЛЕНИЯ ДВИГАТЕЛЕМ}

\subsection{Линейная непрерывная модель}

Исходная модель содержит нелинейности и оказалась слишком сложной для синтеза регулятора для нее.
Поэтому было сделано предположение о том, что двигатель ДБМ в нашем случае работает
в режиме двигателя постоянного тока, а это значит, что его динамику движения можно
описать апериодическим звеном первого порядка с передаточной функцией \ref{eq:ap1}

\begin{equation}
  W(s)=\frac{k}{Ts+1},
  \label{eq:ap1}
\end{equation}

где $k$ -коэффициент передачи, $T$ - постоянная времени.

Следовательно, задача сводится к поиску таких $k$ и $T$, при которых переходные процессы
апериодического звена первого порядка и исходной модели будут иметь минимальные отличия.

Была рассмотрена реакция исходной модели на входное воздействие равное 24 вольтам (рисунок \ref{react24}).
24 вольта используются по причине того, что блок питания стенда, как упоминалось равнее, выдает 
именно такое напряжение.

\insertimage[scale=0.27]{react24}{
  Зависимость угловой скорости от времени при входном напряжении от блока питания
}

Установившееся значение~- 282.348~рад/с.
Значения $k$ было найдено как отношение установившегося значения выхода модели ко входу (\ref{eq:count_k})

\begin{equation}
  k = \frac{\omega_{\text{уст}}}{U_{\text{вх}}} = \frac{282.348}{24} = 11.7645.
  \label{eq:count_k}
\end{equation}

Значение постоянной времени $T$ было найдено методом касательных к кривой переходного
процесса (рисунок \ref{gmt}).

\insertimage[scale=0.3]{gmt}{
  Нахождение постоянной времени
}

Затем значение $T$ было уточнено так, чтобы получить минимальную ошибку.
Итоговое значение постоянной времени $T = 0.0805$, а значит одним из возможных
математических описаний двигателя ДБМ является \ref{eq:lin_dbm}

\begin{equation}
  W(s)=\frac{11.7645}{0.0805s+1},
  \label{eq:lin_dbm}
\end{equation}

Сравнение исходного переходного процесса и полученного представлено на рисунке \ref{lin_comp};

\clearpage

\insertimage[scale=0.3]{lin_comp}{
  Сравнение ПП исходной и непрерывной линейной моделей
}

График ошибки линейной непрерывной модели относительно исходной представлен на рисунке \ref{lin_err}.

\insertimage[scale=0.3]{lin_err}{
  График ошибки
}

Можно заметить, что пиковое значение ошибки лежит около $-0.7$, это означает, что ошибка составляет
$\approx0.25\%$.

\subsection{Синтез регулятора угла положения ротора}

Выходом линейной непрерывной недели, представленной ранее, является угловая скорость $\omega$.
Для синтеза системы управления по углу был введено еще одно интегрирующее 
звено (рисунок \ref{syst}).

\insertimage[scale=0.7]{syst}{
  Структурная схема объекта управления
}

Передаточной функции интегрирующего звена соответствует дифференциальное уравнение \ref{eq:int_eq}

\begin{equation}
  \dot{x_1}=x_2.
  \label{eq:int_eq}
\end{equation}

Передаточной функции апериодического звена 1 порядка соответствует дифференциальное уравнение

$$
  0.0805\dot{x_2} + x_2 = 11.7645u,
$$

или, относительно $\dot{x_2}$

\begin{equation}
  \dot{x_2}=-\frac{1}{0.0805}x_2+146.1429u.
  \label{eq:ape_eq}
\end{equation}

Путем объединения уравнений \ref{eq:int_eq} и \ref{eq:ape_eq} в систему уравнений было получено
описание системы в форме вход-состояние-выход (ВСВ)

$$
  \begin{cases}
    \dot{X}=AX+Bu;
    \\
    Y=CX,
  \end{cases}
$$\\

где $X=\begin{bmatrix}x_1\\x_2\end{bmatrix}$, $A=\begin{bmatrix}0&1\\0& -12.4224\end{bmatrix}$, 
$B=\begin{bmatrix}0\\146.1429\end{bmatrix}$, $C=\begin{bmatrix}1&0\end{bmatrix}$.\\

Далее по формулам \ref{a2ad}, \ref{b2bd} был совершен переход к дискретному описанию объекта управления  

\begin{equation}
  A_d=e^{\tau A};
  \label{eq:a2ad}
\end{equation}

\begin{equation}
  B_d=(\sum\limits_{i=1}^{\infty}\frac{\tau^iA^{i-1}}{i!})B,
  \label{eq:b2bd}
\end{equation}

где $\tau$ - интервал дискретности равный периоду генератора ШИМ.\\

Так, матрицы $A_d=\begin{bmatrix}1&1.001\\1& 0.9877\end{bmatrix}$, 
$B_d=\begin{bmatrix}0.0001\\0.1452\end{bmatrix}$.\\

Матрица $C$ осталась неизменной.

В результате было получено дискретное описание объекта управления, 
представленное в форме \ref{eq:disc}.

\begin{equation}
  \begin{cases}
    x(k + 1) = A_dx(k) + B_du(k);
    \\
    y(k) = Cx(k).
  \end{cases}
  \label{eq:disc}
\end{equation}

В качестве регулятора был выбран ПИ-регулятор. Этот регулятор является частным случаем ПИД-регулятора
и довольно частно применяется на практике ввиду своих достоинств:

\begin{itemize}
  \item Обеспечивает нулевую статическую ошибку регулирования;
  \item Малая чувствительность к шумам в канале измерения (в отличие, например, от ПИД-регулятора);
  \item Простота настройки.
\end{itemize}

Задача синтеза ПИ-регулятора сводится к выбору матриц эталонной модели $\Gamma$ и $H$ и 
решению матричного уравнения Сильвестра \ref{eq:sylv}

\begin{equation}
  M\Gamma-AM=-BH.
  \label{eq:sylv}
\end{equation}

... /tut nado pro tz/ ... %todo

В качестве эталонной модели был выбран полином Баттерворта 3 порядка (\ref{eq:batt}). Третий порядок
модели обусловлен наличием интегрирующего звена в регуляторе и вторым порядком
объекта управления.

\begin{equation}
  D^{\text{*}}(\lambda)=\lambda^3+2\omega_0\lambda^2+2\omega_0^2\lambda+\omega_0^3.
  \label{eq:batt}
\end{equation}

Затем был построен график переходного процесса (рисунок \ref{etalon}) по полученной нормированной 
передаточной функции (\ref{eq:wsd}).

\begin{equation}
  \begin{cases}
    W(s)=\frac{1}{D^{\text{*}}(\lambda)};
    \\
    \lambda=s;
    \\
    \omega_0=1.
  \end{cases}
  \label{eq:wsd}
\end{equation}

\insertimage[scale=0.3]{etalon}{
  Переходной процесс нормированной ПФ
}

Горизонтальными линиями на графике (рисунок \ref{etalon}) обозначена $\Delta$-область, равная
$\pm5\%$ от установившегося значения ПП.

Временем переходного процесса или временем регулирования принято считать момент времени, когда
переходной процесс попадает в $\Delta$-область и больше ее не покидает. В случае полинома Баттерворта
3 порядка время переходного процесса $t_{\text{п}}^{\text{*}}=5.965 c$.

Исходя из требуемого времени переходного процесса $\omega_0$ вычисляется как

$$
  \omega_0=\frac{t_{\text{п}}^{\text{*}}}{t_{\text{п}}}=\frac{5.965}{0.1}=59.65.
$$